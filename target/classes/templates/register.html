<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
<title>Bootstrap</title>
<link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
<link rel="stylesheet" href="assets/fonts/ionicons.min.css">
<link rel="stylesheet" href="assets/css/styles.min.css">

<style type="text/css">
.body-center{
    display: flex !important;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    min-height: 100vh;
}
</style>

</head>

<body>
	<div class="register-photo">
		<div class="form-container body-center" >
			<form th:name="myForm" th:id="myForm" th:method="post"
				th:action="@{/register}" th:object="${user}">
				<h2 class="text-center">
					Create an account.
				</h2>
				<div class="form-group">
					<input th:field="*{emailAddress}" class="form-control is-invalid"
						type="text" name="email" placeholder="Email"> <small
						th:if="${#fields.hasErrors('emailAddress')}"
						th:errors="*{emailAddress}" class="invalid-feedback"></small>
				</div>
				<div class="form-group">
					<input th:field="*{userName}" class="form-control is-invalid"
						type="text" name="username" placeholder="Username"> <small
						th:if="${#fields.hasErrors('userName')}" th:errors="*{userName}"
						class="invalid-feedback"></small>
				</div>
				<div class="form-group">
					<input th:field="*{password}" class="form-control is-invalid"
						type="password" name="password" placeholder="Password"
						id="password" onkeyup='check();' > <small th:errors="*{password}"
						th:if="${#fields.hasErrors('password')}" class="invalid-feedback">Password
						could not be null</small>
				</div>
				<div class="form-group">
					<input class="form-control is-invalid"
						type="password" name="confirm_password" placeholder="Repeat Password"
						id="confirm_password"  onkeyup='check();'> <span id='message'></span>
				</div>

			
				<div class="form-group">
					<button class="btn btn-primary btn-block" name="submit" id="submit" type="submit" disabled>Sign
						Up</button>
				</div>
				<a class="already" th:href="@{/login}">You already have an
					account? Login here.</a>
			</form>
		</div>
	</div>
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/bootstrap/js/bootstrap.min.js"></script>
	<script type="text/javascript">
	var check = function() {
		  if (document.getElementById('password').value ==
		    document.getElementById('confirm_password').value) {
		    document.getElementById('message').style.color = 'green';
		    document.getElementById('message').innerHTML = '';
		    document.getElementById('submit').disabled = false;
		  } else {
		    document.getElementById('message').style.color = 'red';
		    document.getElementById('message').innerHTML = 'password not matching';
		    document.getElementById('submit').disabled = true;
		  }
		}
	
	</script>
	
	
	
</body>

</html>